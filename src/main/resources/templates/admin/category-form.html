<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${category.id != null ? 'Sửa Danh Mục' : 'Thêm Danh Mục'}">Nhập Liệu Danh Mục</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Quicksand', sans-serif; background-color: #FFFAFA; }
        .font-heading { font-family: 'Playfair Display', serif; }
        .input-field:focus { outline: none; border-color: #f472b6; box-shadow: 0 0 0 3px rgba(244, 114, 182, 0.2); }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen py-10 px-4">

    <div class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md border border-pink-50 relative overflow-hidden">
        
        <!-- Decor background -->
        <div class="absolute top-0 right-0 w-24 h-24 bg-pink-100 rounded-full mix-blend-multiply filter blur-2xl opacity-50 translate-x-5 -translate-y-5"></div>
        <div class="absolute bottom-0 left-0 w-24 h-24 bg-blue-100 rounded-full mix-blend-multiply filter blur-2xl opacity-50 -translate-x-5 translate-y-5"></div>

        <!-- Header -->
        <div class="flex justify-between items-center mb-8 border-b border-gray-100 pb-4 relative z-10">
            <div>
                <h2 class="text-2xl font-heading font-bold text-gray-800" 
                    th:text="${category.id != null ? 'Sửa Danh Mục' : 'Thêm Danh Mục'}"></h2>
                <p class="text-gray-500 text-xs mt-1">Quản lý loại hoa và chủ đề.</p>
            </div>
            <a href="/admin/categories" class="w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 transition">
                <i class="fas fa-times"></i>
            </a>
        </div>

        <!-- Form (QUAN TRỌNG: Đã sửa action thành th:action để có CSRF Token) -->
        <form th:action="@{/admin/categories/save}" method="post" th:object="${category}" class="relative z-10 space-y-6">
            
            <input type="hidden" th:field="*{id}">

            <div>
                <label class="block text-gray-700 font-bold mb-2 text-sm uppercase tracking-wide">Tên Danh Mục <span class="text-pink-500">*</span></label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400"><i class="fas fa-tag"></i></span>
                    <input type="text" th:field="*{name}" required placeholder="Ví dụ: Hoa 8/3"
                           class="input-field w-full border border-gray-200 pl-10 pr-4 py-3 rounded-xl bg-gray-50 transition placeholder-gray-400">
                </div>
            </div>

            <!-- Buttons -->
            <div class="flex justify-end gap-3 pt-4 border-t border-gray-100">
                <a href="/admin/categories" class="px-6 py-2 rounded-full text-gray-600 font-bold hover:bg-gray-100 transition">Hủy</a>
                <button type="submit" class="px-8 py-2 bg-pink-500 text-white rounded-full font-bold shadow-lg shadow-pink-200 hover:bg-pink-600 transition transform hover:-translate-y-1">
                    <i class="fas fa-save mr-2"></i> Lưu
                </button>
            </div>
        </form>
    </div>

</body>
</html>